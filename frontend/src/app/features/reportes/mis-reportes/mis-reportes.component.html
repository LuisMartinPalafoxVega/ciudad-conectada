<div class="contenedor-mis-reportes">
  
  <h2>Mis Reportes</h2>

  <!-- Loader -->
  <div *ngIf="loading" class="loader">Cargando...</div>

  <!-- Lista de reportes -->
  <div class="lista-reportes" *ngIf="!loading && reportes.length > 0">
    
    <div class="reporte-card" *ngFor="let reporte of reportes">

      <img 
        class="reporte-img"
        [src]="getImagenUrl(reporte.imagen_url)"
        alt="Imagen del reporte"
      />

      <div class="reporte-info">
        <h3>{{ reporte.titulo }}</h3>
        <p>{{ reporte.descripcion }}</p>

        <span [ngClass]="getBadgeClass(reporte.estado)" class="estado-badge">
          {{ getEstadoTexto(reporte.estado) }}
        </span>

        <button class="btn-detalle" (click)="verDetalle(reporte.id)">
          Ver detalles
        </button>
      </div>

    </div>

  </div>

  <!-- Sin reportes -->
  <div *ngIf="!loading && reportes.length === 0" class="sin-reportes">
    No tienes reportes todavía.
  </div>

  <!-- Paginación -->
  <div class="paginacion" *ngIf="totalPages > 1">
    <button 
      [disabled]="currentPage === 1" 
      (click)="cambiarPagina(currentPage - 1)">
      « Anterior
    </button>

    <button 
      *ngFor="let page of getPaginationArray()"
      (click)="cambiarPagina(page)"
      [class.active]="page === currentPage">
      {{ page }}
    </button>

    <button 
      [disabled]="currentPage === totalPages" 
      (click)="cambiarPagina(currentPage + 1)">
      Siguiente »
    </button>
  </div>

</div>
